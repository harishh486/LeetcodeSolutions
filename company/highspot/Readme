Steps to Deploy this API
========================
0. Download the repo or dir.
1. Go to highspot directory
2. Build the docker image using dockerfile
3. docker build -t highspot:latest .
4. Once the image is built, run the image and expose the container port and host port to 8083 using command
    > docker run -p 8083:8083 <Image>
    Ex: docker run -p 8083:8083 highspot 
5. Once the docker machine is up, the API is ready to serve the requests at 
    http://localhost:8083/ 


API Requests and Responses:
===========================
In order to execute the API requests and Response: Do the following:


Import the attached postman collection to execute the api requests and responses and then run the collection:
Steps:
1. GO to postman console and import the json file attached and RUN the API req and responses:
2. Verify the req and reponses.
3. There are 6 requests and responses:


or 

1. Homepage
Request 1: GET 
   http://localhost:8083/

   or 
    curl http://localhost:8083/


Response:
   <h1>Welcome to Demo app from Highspot</h1></p>


2. healthcheck
Request 2: GET 
    http://localhost:8083/healthcheck

    or 
    curl http://localhost:8083/healthcheck

Response:
    {
    "hostname": "d00cc76a0d5b",
    "status": "success",
    "timestamp": 1599172900.6191285,
    "results": [
        {
            "checker": "sqlite3_available",
            "output": "Sqlite3 DB is Available...!!",
            "passed": true,
            "timestamp": 1599172900.6191065,
            "expires": 1599172927.6191065
        }
    ]
}

3. Generate Endpoint: Create a unique endpoint resource

Request3: GET
    http://localhost:8083/api/v1/resources/endpoint/generate

    or 
     curl http://localhost:8083/api/v1/resources/endpoint/generate


Response:
    {
    "uri": "/api/v1/resources/endpoint?id=9966"
}

4. POST :  Send data to be stored, using the unique endpoint resource id returned from step 3
Req: 
    http://localhost:8083/api/v1/resources/endpoint?id=9966

Payload:  {
    "request": "{'value': '12389888'}"
}

5: GET Specific Endpoint : Get data from a specific endpoint:
Request: 
   http://localhost:8083/api/v1/resources/endpoint?id=9966
Response:
   {
    "post_data": [
        "{'request': \"{'value': '12389888'}\"}"
    ]
}


6. GET Latest Endpoint: Get the latest entry POSTed to the service

Request: 
    http://localhost:8083/api/v1/resources/endpoint/latest
Response:
    {"post_data":["{'request': \"{'value': '12389888'}\"}"]}



Note:
 This app is tested using postman. Import the attached postman collection and execute the postman.



 Simple Microservice Arch:
 ========================

 This app is built using Flask and sqlite framworks and deployed using docker container.
 Docker container is exposed at port 8083 to serve the requests:

 





   